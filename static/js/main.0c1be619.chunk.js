(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,function(e,t,a){e.exports=a.p+"static/media/down-arrow-white.e0c4e3e3.svg"},,,function(e,t,a){e.exports=a(20)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(8),r=a.n(s),c=a(1),o=a(2),u=a(4),l=a(3),p=a(5),m=(a(15),a(16),a(17),a(6)),g=a.n(m),d=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"header__filter-hide-menu"},i.a.createElement("div",{className:"header__filter-hide-menu-title ".concat(this.props.hideMenuIsOpen?"header__filter-hide-menu-title--active":""),onClick:this.props.openHideMenu},"Select genre: ",this.props.settings.selectedGenre,i.a.createElement("img",{className:"header__filter-hide-menu-icon ".concat(this.props.hideMenuIsOpen?"header__filter-hide-menu-icon--open":""),src:g.a,alt:"down-arrow"})),i.a.createElement("ul",{className:"header__filter-hide-menu-list",hidden:!this.props.hideMenuIsOpen},this.props.settings.genresMoviesList.map(function(t){return i.a.createElement("li",{className:"header__filter-hide-menu-item ".concat(e.props.settings.genreId===t.id?"header__filter-hide-menu-item--selected":""),key:t.id,onClick:function(){e.props.selectGenre(t.id,t.name)}},t.name)})),i.a.createElement("div",{className:"header__filter-hide-menu-title"},"Years:",i.a.createElement("input",{type:"text",value:this.props.year,onChange:function(t){e.props.setYear(t.target.value)}})),i.a.createElement("button",{className:"header__filter-hide-menu-search-btn",onClick:this.props.setDefaultData},"Set Default"),i.a.createElement("button",{className:"header__filter-hide-menu-search-btn",onClick:this.props.sendData},"Search")))}}]),t}(n.Component),h=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).state={settings:{genresMoviesList:[],selectedGenre:null,genreId:null,year:2019,query:""},hideMenuIsOpen:!1},a.openHideMenu=function(){a.setState(function(e){e.hideMenuIsOpen;return{hideMenuIsOpen:!a.state.hideMenuIsOpen}})},a.selectGenre=function(e,t){a.setState(function(a){return a.settings.genreId=e,a.settings.selectedGenre=t,a.hideMenuIsOpen=!1,{prevState:a}})},a.setYear=function(e){a.setState(function(t){return t.settings.year=e.replace(/\D/g,"").substr(0,4),t})},a.updateData=function(){a.props.updateData(a.state.settings.genreId,a.state.settings.year)},a.setDefaultData=function(){a.setState(function(e){var t=e.settings;return t.selectedGenre=null,t.genreId=null,t.year=2019,t.query="",{settings:t}},function(){a.props.updateData(a.state.settings.genreId,a.state.settings.year)})},a.changeQuery=function(e){a.setState(function(t){var a=t.settings;return a.query=e,{settings:a}})},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=5874acfd11651a28c55771624f7021f4&language=en-US").then(function(e){return e.json()}).then(function(t){e.setState(function(e){var a=e.settings;return a.genresMoviesList=t.genres,{settings:a}})})}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"header"},i.a.createElement("div",{className:"header__filter"},"Settings:",i.a.createElement("img",{className:"header__filter-icon",src:g.a,alt:"down-arrow"}),i.a.createElement(d,{settings:this.state.settings,selectGenre:this.selectGenre,openHideMenu:this.openHideMenu,hideMenuIsOpen:this.state.hideMenuIsOpen,year:this.state.settings.year,setYear:this.setYear,sendData:this.updateData,setDefaultData:this.setDefaultData})),i.a.createElement("div",{className:"header__logo"}),i.a.createElement("div",null,i.a.createElement("input",{className:"header__search-field",type:"text",value:this.state.settings.query,onChange:function(t){e.changeQuery(t.target.value)}}),i.a.createElement("button",{className:"header__find-movies-btn",onClick:function(){e.props.setValue(e.state.settings.query)}},"Search"))))}}]),t}(n.Component),f=(a(18),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"Main"},i.a.createElement("ul",{className:"Main__list"},this.props.items.length<=0?i.a.createElement("div",{className:"Main__no-items-error"},"Sorry, but your search results 0 =("):this.props.items.map(function(e){return i.a.createElement("li",{className:"Main__item",key:e.id},i.a.createElement("div",{className:"Main__item-poster"}," ",i.a.createElement("img",{className:"Main__item-poster-img",src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:""})," ",i.a.createElement("div",{className:"Main__item-poster-snippet-block-hide"},i.a.createElement("div",{className:"Main__item-poster-snippet"},e.overview),i.a.createElement("div",null,"..."))),i.a.createElement("div",{className:"Main__item-info"},i.a.createElement("div",{className:"Main__item-title"},e.title),i.a.createElement("div",{className:"Main__item-year"},e.release_date.split("-")[0])))})))}}]),t}(n.Component)),v=(a(19),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).paginationItems=[],a.createPaginationBtns=function(){a.paginationItems=[];for(var e=a.props.currentPage;e<a.props.currentPage+5;e++)a.paginationItems.push(e);for(var t=a.props.currentPage;t>=a.props.currentPage-5;t--)a.paginationItems.unshift(t);a.paginationItems=a.paginationItems.filter(function(e,t){if(a.paginationItems.indexOf(e)===t&&e>1&&e<a.props.quantityPages-1)return!0})},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return this.createPaginationBtns(),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"Pagination"},i.a.createElement("div",{className:"Pagination__nav"},i.a.createElement("div",{className:"Pagination__nav-btn",onClick:function(){e.props.currentPage-1!==0&&e.props.setNewPage(e.props.currentPage-1)}},"Prev"),i.a.createElement("div",{className:"Pagination__nav-btn ".concat(1===this.props.currentPage?"Pagination__nav-btn--active":""),onClick:function(){e.props.setNewPage(1)}},"1"),this.props.currentPage>=5?i.a.createElement("div",{className:"Pagination__nav-btn"},"..."):"",this.paginationItems.map(function(t,a){return i.a.createElement("div",{key:a,className:"Pagination__nav-btn ".concat(e.props.currentPage===t?"Pagination__nav-btn--active":""),onClick:function(){e.props.setNewPage(t)}},t)}),this.props.currentPage<=this.props.quantityPages-5?i.a.createElement("div",{className:"Pagination__nav-btn"},"..."):"",i.a.createElement("div",{className:"Pagination__nav-btn ".concat(this.props.currentPage===this.props.quantityPages?"Pagination__nav-btn--active":""),onClick:function(){e.props.setNewPage(e.props.quantityPages)}},this.props.quantityPages),i.a.createElement("div",{className:"Pagination__nav-btn",onClick:function(){e.props.currentPage+1<=e.props.quantityPages&&e.props.setNewPage(e.props.currentPage+1)}},"Next"))))}}]),t}(n.Component)),_=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).setValue=function(e){a.setState(function(t){return t.query=e,t.searchMode=!0,t.currentPage=1,{prevState:t}},function(){a.findMovieByQuery()})},a.setNewPage=function(e){a.setState(function(t){return t.currentPage=e,{prevState:t}},function(){a.state.searchMode?a.findMovieByQuery():a.getAllItems()})},a.findMovieByQuery=function(){if(""!==a.state.query){var e="https://api.themoviedb.org/3/search/movie?api_key=5874acfd11651a28c55771624f7021f4&language=en-US".concat("&query=".concat(a.state.query),"&page=",a.state.currentPage,"&include_adult=false");fetch(e).then(function(e){return e.json()}).then(function(e){a.setState(function(t){return t.items=e.results,t.quantityItems=e.total_results,e.total_pages<=1e3?t.quantityPage=e.total_pages:t.quantityPage=1e3,t})})}else a.setState(function(e){e.searchMode;return!1,{searchMode:!1}},function(){a.getAllItems()})},a.getAllItems=function(){var e="https://api.themoviedb.org/3/discover/movie?api_key=5874acfd11651a28c55771624f7021f4&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=".concat(a.state.currentPage).concat(a.state.movieGenre?"&with_genres=".concat(a.state.movieGenre):"").concat(a.state.year?"&primary_release_year=".concat(+a.state.year):"");fetch(e).then(function(e){return e.json()}).then(function(e){a.setState(function(t){return t.items=e.results,t.quantityItems=e.total_results,e.total_pages<=1e3?t.quantityPage=e.total_pages:t.quantityPage=1e3,t})})},a.updateData=function(e,t){a.setState(function(a){return a.movieGenre=e,a.year=t,{prevState:a}},function(){a.getAllItems()})},a.state={searchMode:!1,items:[],currentPage:1,quantityItems:0,quantityPage:1e3,movieGenre:null,year:null,query:""},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getAllItems()}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"container"},i.a.createElement(h,{updateData:this.updateData,setValue:this.setValue}),i.a.createElement(f,{items:this.state.items}),i.a.createElement(v,{quantityPages:this.state.quantityPage,currentPage:this.state.currentPage,setNewPage:this.setNewPage}),"Footer"))}}]),t}(n.Component);r.a.render(i.a.createElement(_,null),document.getElementById("root"))}],[[9,1,2]]]);
//# sourceMappingURL=main.0c1be619.chunk.js.map