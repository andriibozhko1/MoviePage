(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/menu.13c5ac79.svg"},,function(e,t,n){e.exports=n(22)},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(7),s=n.n(i),c=n(1),o=n(2),u=n(4),l=n(3),m=n(5),p=(n(16),n(17),n(9)),g=(n(18),n(8)),f=n.n(g),h=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={settings:{query:""}},n.menuStatus=!1,n.changeQuery=function(e){n.setState(function(t){var n=t.settings;return{settings:Object(p.a)({},n,{query:e})}})},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header__logo",onClick:this.props.setDefaultState}),r.a.createElement("div",null,r.a.createElement("input",{className:"header__search-field",type:"text",value:this.state.settings.query,placeholder:"Find something .......",onChange:function(t){e.changeQuery(t.target.value)},onKeyPress:function(t){"Enter"===t.key&&e.props.setValue(e.state.settings.query)}}),r.a.createElement("button",{className:"header__find-movies-btn",onClick:function(){e.menuToggle.checked=!1,e.props.setValue(e.state.settings.query),e.props.OpenAndCloseMobileMenu(e.menuToggle.checked)}},"Search")),r.a.createElement("div",null,r.a.createElement("label",null,r.a.createElement("img",{className:"header__open-mobile-menu",src:f.a,alt:"icon menu"}),r.a.createElement("input",{name:"mobileMenuIsOpen",className:"mobile-menu-toggler",type:"checkbox",ref:function(t){t&&(e.menuToggle=t)},onClick:function(t){e.props.OpenAndCloseMobileMenu(t.target.checked)}})))))}}]),t}(a.Component),v=(n(19),n(20),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={genres:[],years:[],currentYear:null,dropDownIsOpen:!1},n.createYearsList=function(){for(var e=(new Date).getFullYear(),t=[],a=1915;a<=1990;a+=5)t.unshift(a);for(var r=1991;r<=e;r++)t.unshift(r);t.unshift("All times"),n.setState(function(n){return n.years=t,{presentYear:e}})},n.openDropDown=function(){n.setState(function(e){return e.dropDownIsOpen=!n.state.dropDownIsOpen,{prevState:e}})},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=5874acfd11651a28c55771624f7021f4&language=en-US").then(function(e){return e.json()}).then(function(t){e.setState(function(e){return e.genres=t.genres,{prevState:e}})}),this.createYearsList()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"SideBar ".concat(this.props.mobileMenuStatus?"SideBar--active":"")},r.a.createElement("div",{className:"SideBar__title"},"Years:"),r.a.createElement("div",{className:"SideBar__change-year",onClick:this.openDropDown},this.state.currentYear?this.state.currentYear:"All times:",r.a.createElement("ul",{hidden:!this.state.dropDownIsOpen,className:"SideBar__change-year-list"},this.state.years.map(function(t){return r.a.createElement("li",{className:"SideBar__change-year-item",key:t,onClick:function(){"All times"!==t?e.setState(function(e){e.currentYear=t},function(){e.props.setYear(t)}):e.setState(function(e){e.currentYear="All times"},function(){e.props.setYear(t)})}},t)}))),r.a.createElement("div",{className:"SideBar__title"},"Genres: "),r.a.createElement("ul",{className:"SideBar__list"},r.a.createElement("li",{className:"SideBar__item",onClick:function(){e.props.setMovieGenre(null)}},"All"),this.state.genres.map(function(t){return r.a.createElement("li",{key:t.id,className:"SideBar__item ".concat(t.id===e.props.movieGenre?"SideBar__item--active":""),onClick:function(){e.props.setMovieGenre(t.id)}},t.name)}))))}}]),t}(a.Component)),d=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"Main__item",key:e.id},r.a.createElement("div",{className:"Main__item-poster"}," ",r.a.createElement("img",{className:"Main__item-poster-img",src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:"poster"})," ",r.a.createElement("div",{className:"Main__item-poster-snippet-block-hide"},r.a.createElement("div",{className:"Main__item-poster-snippet"},e.overview),r.a.createElement("div",null,"..."))),r.a.createElement("div",{className:"Main__item-info"},r.a.createElement("div",{className:"Main__item-title"},e.title),r.a.createElement("div",{className:"Main__item-year"},e.release_date.split("-")[0]))))}}]),t}(a.Component),_=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Main"},r.a.createElement(v,{setMovieGenre:this.props.setMovieGenre,movieGenre:this.props.movieGenre,setYear:this.props.setYear,mobileMenuStatus:this.props.mobileMenuStatus}),r.a.createElement("div",{className:"Main__movies"},r.a.createElement("ul",{className:"Main__list"},this.props.items.length<=0?r.a.createElement("div",{className:"Main__no-items-error"},"Sorry, but your search results 0 =("):this.props.items.map(function(e){return r.a.createElement(d,{key:e.id,data:e})}))))}}]),t}(a.Component),y=(n(21),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).paginationItems=[],n.createPaginationBtns=function(){n.paginationItems=[];for(var e=n.props.currentPage;e<n.props.currentPage+5;e++)n.paginationItems.push(e);for(var t=n.props.currentPage;t>=n.props.currentPage-5;t--)n.paginationItems.unshift(t);n.paginationItems=n.paginationItems.filter(function(e,t){if(n.paginationItems.indexOf(e)===t&&e>1&&e<n.props.quantityPages-1)return!0})},n.currentPaginatonBtns=function(e){switch(e){case-1:n.props.currentPage-1!==0&&n.props.setNewPage(n.props.currentPage-1);break;case 1:n.props.currentPage+1<=n.props.quantityPages&&n.props.setNewPage(n.props.currentPage+1)}},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return this.createPaginationBtns(),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Pagination"},r.a.createElement("div",{className:"Pagination__nav"},r.a.createElement("div",{className:"Pagination__nav-btn",onClick:function(){e.currentPaginatonBtns(-1)}},"Prev"),r.a.createElement("div",{className:"Pagination__nav-btn ".concat(1===this.props.currentPage?"Pagination__nav-btn--active":""),onClick:function(){e.props.setNewPage(1)}},"1"),this.props.currentPage>=5?r.a.createElement("div",{className:"Pagination__nav-btn"},"..."):"",this.paginationItems.map(function(t,n){return r.a.createElement("div",{key:n,className:"Pagination__nav-btn ".concat(e.props.currentPage===t?"Pagination__nav-btn--active":""),onClick:function(){e.props.setNewPage(t)}},t)}),this.props.currentPage<=this.props.quantityPages-5?r.a.createElement("div",{className:"Pagination__nav-btn"},"..."):"",r.a.createElement("div",{hidden:0===this.paginationItems.length,className:"Pagination__nav-btn ".concat(this.props.currentPage===this.props.quantityPages?"Pagination__nav-btn--active":""),onClick:function(){e.props.setNewPage(e.props.quantityPages)}},this.props.quantityPages),r.a.createElement("div",{className:"Pagination__nav-btn",onClick:function(){e.currentPaginatonBtns(1)}},"Next"))))}}]),t}(a.Component)),b=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).setYear=function(e){n.setState(function(t){return t.year=e,{prevState:t}},function(){n.getAllItems()})},n.setValue=function(e){n.setState(function(t){return t.query=e,t.searchMode=!0,t.currentPage=1,{prevState:t}},function(){n.findMovieByQuery()})},n.setNewPage=function(e){n.setState(function(t){return t.currentPage=e,{prevState:t}},function(){n.state.searchMode?n.findMovieByQuery():n.getAllItems()})},n.findMovieByQuery=function(){if(""!==n.state.query){var e="https://api.themoviedb.org/3/search/movie?api_key=5874acfd11651a28c55771624f7021f4&language=en-US".concat("&query=".concat(n.state.query),"&page=",n.state.currentPage,"&include_adult=false");fetch(e).then(function(e){return e.json()}).then(function(e){n.setState(function(t){return t.items=e.results,t.quantityItems=e.total_results,e.total_pages<=1e3?t.quantityPage=e.total_pages:t.quantityPage=1e3,t})})}else n.setState(function(e){e.searchMode;return!1,{searchMode:!1}},function(){n.getAllItems()})},n.getAllItems=function(){var e="https://api.themoviedb.org/3/discover/movie?api_key=5874acfd11651a28c55771624f7021f4&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=".concat(n.state.currentPage).concat(n.state.movieGenre?"&with_genres=".concat(n.state.movieGenre):"").concat(n.state.year?"&primary_release_year=".concat(+n.state.year):"");fetch(e).then(function(e){return e.json()}).then(function(e){n.setState(function(t){return t.items=e.results,t.quantityItems=e.total_results,e.total_pages<=1e3?t.quantityPage=e.total_pages:t.quantityPage=1e3,t})})},n.setMovieGenre=function(e){n.setState(function(t){return t.movieGenre=e,t.currentPage=1,t},function(){n.getAllItems()})},n.OpenAndCloseMobileMenu=function(e){n.setState(function(t){return t.mobileMenuIsOpen=e,{prevState:t}})},n.state={mobileMenuIsOpen:!1,searchMode:!1,items:[],currentPage:1,quantityItems:0,quantityPage:1e3,movieGenre:null,year:null,query:""},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getAllItems()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement(h,{setValue:this.setValue,OpenAndCloseMobileMenu:this.OpenAndCloseMobileMenu,setDefaultState:this.getAllItems}),r.a.createElement(_,{items:this.state.items,setMovieGenre:this.setMovieGenre,movieGenre:this.state.movieGenre,setYear:this.setYear,mobileMenuStatus:this.state.mobileMenuIsOpen}),r.a.createElement(y,{quantityPages:this.state.quantityPage,currentPage:this.state.currentPage,setNewPage:this.setNewPage}),"Footer"))}}]),t}(a.Component);s.a.render(r.a.createElement(b,null),document.getElementById("root"))}],[[10,1,2]]]);
//# sourceMappingURL=main.672094c1.chunk.js.map