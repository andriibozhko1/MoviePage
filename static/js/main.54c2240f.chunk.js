(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/menu.13c5ac79.svg"},function(e,t,a){e.exports=a(22)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(7),s=a.n(i),c=a(1),o=a(2),l=a(4),u=a(3),m=a(5),p=(a(16),a(17),a(8)),h=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("input",{className:"header__search-field",type:"text",value:this.props.query,placeholder:"Find something .......",onChange:function(t){e.props.changeQuery(t.target.value)},onKeyPress:function(t){"Enter"===t.key&&e.props.setValue(e.props.query)}}),r.a.createElement("button",{className:"header__find-movies-btn",onClick:function(){e.props.menuToggler.checked=!1,e.props.setValue(e.props.query),e.props.togglerMobileMenu(e.props.menuToggler.checked)}},"Search"))}}]),t}(n.Component),g=a(9),v=a.n(g),f=(a(18),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header__logo",onClick:this.props.setDefaultState}),r.a.createElement("div",null,r.a.createElement(h,Object(p.a)({changeQuery:this.changeQuery,menuToggler:this.menuToggler,togglerMobileMenu:this.props.togglerMobileMenu,setValue:this.props.setValue,query:this.props.query},"changeQuery",this.props.changeQuery))),r.a.createElement("div",null,r.a.createElement("label",null,r.a.createElement("img",{className:"header__open-mobile-menu",src:v.a,alt:"icon menu"}),r.a.createElement("input",{name:"mobileMenuIsOpen",className:"mobile-menu-toggler",type:"checkbox",ref:function(t){t&&(e.menuToggler=t)},onClick:function(t){e.props.togglerMobileMenu(t.target.checked)}})))))}}]),t}(n.Component)),d=(a(19),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={years:[],dropDownIsOpen:!1},a.createYearsList=function(){for(var e=(new Date).getFullYear(),t=[],n=1915;n<=1990;n+=5)t.unshift(n);for(var r=1991;r<=e;r++)t.unshift(r);t.unshift("All times"),a.setState({years:t})},a.openDropDown=function(){a.setState(function(e){return e.dropDownIsOpen=!a.state.dropDownIsOpen,{prevState:e}})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.createYearsList()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"SideBar__title"},"Years:"),r.a.createElement("div",{className:"SideBar__change-year",onClick:this.openDropDown},r.a.createElement("div",{className:"SideBar__change-year-title"},this.props.currentYear||"All times:"),r.a.createElement("ul",{hidden:!this.state.dropDownIsOpen,className:"SideBar__change-year-list"},this.state.years.map(function(t){return r.a.createElement("li",{className:"SideBar__change-year-item",key:t,onClick:function(){return"All times"===t?e.props.setYear(null):e.props.setYear(t)}},t)}))))}}]),t}(n.Component)),y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={genres:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=5874acfd11651a28c55771624f7021f4&language=en-US").then(function(e){return e.json()}).then(function(t){var a=t.genres;e.setState({genres:a})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"SideBar__title"},"Genres: "),r.a.createElement("ul",{className:"SideBar__list"},r.a.createElement("li",{className:"SideBar__item",onClick:function(){return e.props.setMovieGenre(null)}},"All"),this.state.genres.map(function(t){return r.a.createElement("li",{key:t.id,className:"SideBar__item ".concat(t.id===e.props.movieGenre?"SideBar__item--active":""),onClick:function(){return e.props.setMovieGenre(t.id)}},t.name)})))}}]),t}(n.Component),_=(a(20),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"SideBar ".concat(this.props.mobileMenuIsOpen?"SideBar--active":"")},r.a.createElement(d,{currentYear:this.props.currentYear,setYear:this.props.setYear}),r.a.createElement(y,{setMovieGenre:this.props.setMovieGenre,movieGenre:this.props.movieGenre})))}}]),t}(n.Component)),b=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"Main__item",key:e.id},r.a.createElement("div",{className:"Main__item-poster"}," ",r.a.createElement("img",{className:"Main__item-poster-img",src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:e.title})," ",r.a.createElement("div",{className:"Main__item-poster-snippet-block-hide"},r.a.createElement("div",{className:"Main__item-poster-snippet"},e.overview),r.a.createElement("div",null,"..."))),r.a.createElement("div",{className:"Main__item-info"},r.a.createElement("div",{className:"Main__item-title"},e.title),r.a.createElement("div",{className:"Main__item-year"},e.release_date.split("-")[0]))))}}]),t}(n.Component),E=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Main"},r.a.createElement(_,{setMovieGenre:this.props.setMovieGenre,movieGenre:this.props.movieGenre,setYear:this.props.setYear,currentYear:this.props.currentYear,mobileMenuIsOpen:this.props.mobileMenuIsOpen}),r.a.createElement("div",{className:"Main__movies"},this.props.movies.length<=0?r.a.createElement("div",{className:"Main__no-items-error"},"Sorry, but your search results 0."):r.a.createElement("ul",{className:"Main__list"},this.props.movies.map(function(e){return r.a.createElement(b,{key:e.id,data:e})}))))}}]),t}(n.Component),M=(a(21),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).goPrev=function(){var e=Math.max(1,a.props.currentPage-1);a.props.setNewPage(e)},a.goNext=function(){var e=Math.min(a.props.quantityPages,a.props.currentPage+1);a.props.setNewPage(e)},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){for(var e=this,t=[],a=Math.max(1,this.props.currentPage-5),n=Math.min(this.props.quantityPages,this.props.currentPage+5),i=a;i<n;i++)t.push(i);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Pagination"},r.a.createElement("div",{className:"Pagination__nav"},r.a.createElement("div",{className:"Pagination__nav-btn",onClick:function(){return e.goPrev()}}," ","Prev"," "),this.props.currentPage>=8?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Pagination__nav-btn ".concat(1===this.props.currentPage?"Pagination__nav-btn--active":""),onClick:function(){return e.props.setNewPage(1)}},"1"),r.a.createElement("div",{className:"Pagination__nav-btn"},"...")):"",t.map(function(t){return r.a.createElement("div",{key:t,className:"Pagination__nav-btn ".concat(e.props.currentPage===t?"Pagination__nav-btn--active":""),onClick:function(){return e.props.setNewPage(t)}},t)}),this.props.currentPage<=this.props.quantityPages-5?r.a.createElement("div",{className:"Pagination__nav-btn"},"..."):"",r.a.createElement("div",{hidden:0===t.length,className:"Pagination__nav-btn ".concat(this.props.currentPage===this.props.quantityPages?"Pagination__nav-btn--active":""),onClick:function(){return e.props.setNewPage(e.props.quantityPages)}},this.props.quantityPages),r.a.createElement("div",{className:"Pagination__nav-btn",onClick:function(){return e.goNext()}},"Next"))))}}]),t}(n.Component)),O=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).getAllItems=function(){var e="https://api.themoviedb.org/3/discover/movie?api_key=5874acfd11651a28c55771624f7021f4&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=".concat(a.state.currentPage).concat(a.state.movieGenre?"&with_genres=".concat(a.state.movieGenre):"").concat(a.state.year?"&primary_release_year=".concat(+a.state.year):"");fetch(e).then(function(e){return e.json()}).then(function(e){a.setState({items:e.results,quantityItems:e.total_results,quantityPage:Math.min(1e3,e.total_pages)},function(){window.scrollTo(0,0)})})},a.setYear=function(e){a.setState({year:e},function(){a.getAllItems()})},a.changeQuery=function(e){a.setState({query:e})},a.setValue=function(e){a.setState({query:e,searchMode:!0,currentPage:1},function(){return a.findMovieByQuery()})},a.setNewPage=function(e){a.setState({currentPage:e},function(){return a.state.searchMode?a.findMovieByQuery():a.getAllItems()})},a.findMovieByQuery=function(){if(""!==a.state.query){var e="https://api.themoviedb.org/3/search/movie?api_key=5874acfd11651a28c55771624f7021f4&language=en-US".concat("&query=".concat(a.state.query),"&page=",a.state.currentPage,"&include_adult=false");fetch(e).then(function(e){return e.json()}).then(function(e){a.setState({items:e.results,query:"",quantityItems:e.total_results,quantityPage:Math.min(1e3,e.total_pages)})})}else a.setState({searchMode:!1},function(){return a.getAllItems()})},a.setMovieGenre=function(e){a.setState({movieGenre:e,currentPage:1},function(){return a.getAllItems()})},a.togglerMobileMenu=function(e){a.setState({mobileMenuIsOpen:e})},a.state={mobileMenuIsOpen:!1,searchMode:!1,items:[],currentPage:1,quantityItems:0,quantityPage:1e3,movieGenre:null,year:null,query:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getAllItems()}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(f,{setValue:this.setValue,query:this.state.query,togglerMobileMenu:this.togglerMobileMenu,setDefaultState:this.getAllItems,changeQuery:this.changeQuery}),r.a.createElement(E,{movies:this.state.items,setMovieGenre:this.setMovieGenre,movieGenre:this.state.movieGenre,setYear:this.setYear,currentYear:this.state.year,mobileMenuIsOpen:this.state.mobileMenuIsOpen}),r.a.createElement(M,{quantityPages:this.state.quantityPage,currentPage:this.state.currentPage,setNewPage:this.setNewPage}),"Footer")}}]),t}(n.Component);s.a.render(r.a.createElement(O,null),document.getElementById("root"))}],[[10,1,2]]]);
//# sourceMappingURL=main.54c2240f.chunk.js.map